# YAML structure defining a SAX xml parsing scheme/fmp-grammar.
# Options:
#   elements:       <list of tag names as hash keys>
#   class:          <class name for new element>
#   depth:          <integer>
#   ignore_unknown: <true/false>
#   hide:           <true/false>
#   before_close:   <method-name-as-symbol>
#   each_before_close: <method-name-as-symbol>
#   as:             <label>
#   as_attribute:   <label>
#   delineate_with: <object-to-contain-element(s)-when-conflict>
#   delineate_on:   <attribute-of-new-element-used-to-delineate-tags-with-same-name>
#   initialize_with: <code to evaluate while passing to new() method of element class>
#   individual_attributes: <give each attribute it's own instance variable - not used yet>
#   hide_attributes: <force attributes into @att, instead of using hash keys>



###################################################################
elements:
  fmresultset:
    class: FmResultset
    hide: true
    elements:
      datasource:
        class: Datasource
      metadata:
        class: Metadata
        elements:
          field_definition:
      resultset:
        class: Resultset
        before_close: :attach_parent_objects
        elements:
          record:
            class: Record
            hide_attributes: true
            elements:
              field:
                class: Field
                hide: true
                before_close: :build_record_data
              relatedset:
                class: RelatedSet
                #as: portals
                as_attribute: portals
                delineate_with_hash: table
                #hide: true
                #before_close: attach_relatedset_to_portals_hash
                elements:
                  record:
                    class: Record
                    hide_attributes: true
                    elements:
                      field:
                        class: Field
                        hide: true
                        before_close: :build_record_data
###################################################################



# elements:
#   fmresultset:
#     class: FmResultset
#     hidden: true
#     elements:
#       datasource:
#         class: Datasource
#       resultset:
#         class: Resultset
#         before_close: :attach_parent_objects
#         elements:
#           record:
#             class: Record
#             elements:
#               field:
#                 class: Field
#                 hidden: true
#                 before_close: :build_record_data
#               relatedset:
#                 class: Hash
#                 as: portals
#                 of: RelatedSet
#                 key: table
#                 hidden: true
#                 #before_close: attach_relatedset_to_portals_hash
#                 elements:
#                   record:
#                     class: Record
#                     elements:
#                       field:
#                         class: Field
#                         hidden: true
#                         before_close: :build_record_data
#       metadata:
#         class: Metadata
#         elements:
#           field_definition:


# elements:
#   fmresultset:
#     class: FmResultset
#     hidden: true
#     elements:
#       datasource:
#         class: Datasource
#       resultset:
#         class: Resultset
#         before_close: :attach_parent_objects
#         elements:
#           record:
#             class: Record
#             elements:
#               field:
#                 class: Field
#                 hidden: true
#                 before_close: :build_record_data
#               relatedset:
#                 class: Hash
#                 #hidden: true
#                 #before_close: attach_relatedset_to_portals_hash
#                 elements:
#                   record:
#                     class: Record
#                     hidden: true
#                     elements:
#                       field:
#                         class: Field
#                         hidden: true
#                         before_close: :build_record_data
#       metadata:
#         class: Metadata
#         elements:
#           field_definition:




# elements:
#   fmresultset:
#     class: FmResultset
#     hidden: true
#     elements:
#       datasource:
#         class: Datasource
#       resultset:
#         class: Resultset
#         before_close: :attach_parent_objects
#         elements:
#           record:
#             class: Record
#             elements:
#               field:
#                 class: Field
#                 hidden: true
#                 before_close: :build_record_data
#               relatedset:
#                 class: Resultset
#                 hidden: true
#                 before_close: attach_relatedset_to_main_record
#                 elements:
#                   record:
#                     class: Record
#                     elements:
#                       field:
#                         class: Field
#                         hidden: true
#                         before_close: :build_record_data
#       metadata:
#         class: Metadata
#         elements:
#           field_definition:

          
# elements:
#   fmresultset:
#     class: FmResultset
#     ignore_unknown: true
#     elements:
#       datasource:
#         class: Datasource
#       resultset:
#         class: Resultset
#         elements:
#           record:
#             class: Record
#             #before_close: build_field_data
#             elements:
#               field:
#                 class: Field
#                 hidden: true
#                 before_close: :build_record_data
#       metadata:
#         class: Metadata
#         elements:
#           field_definition:          
