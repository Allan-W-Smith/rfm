#!/usr/bin/env ruby

---
elements:
- name: FMPXMLLAYOUT
  ignore: self
  attach_attributes: shared
- name: ERRORCODE
  as_name: error
  compact: true
- name: PRODUCT
  ignore: self
  attach_attributes: shared
- name: LAYOUT
  ignore: self
  attach_attributes: shared
- name: FIELD
  class: Rfm::Metadata::FieldControl
  as_name: field_controls
  delineate_with_hash: NAME
  elements:
  - name: STYLE
    ignore: self
- name: VALUELISTS
  ignore: self
- name: VALUELIST
  as_name: value_lists





# #compact: true
# attach_elements: individual
# elements:
# - name: fmresultset
#   class: Rfm::FmResultset
#   ignore: ['self']
# - name: datasource
#   class: Rfm::Datasource
# - name:  metadata
#   class: Rfm::Meta
#   elements:
#   - name: field_definition
#     as_name: field_meta
#     attach: hash
#   - name: portal_definition
#     as_name: portal_meta
#     attach: hash
# - name: resultset
#   attach_attributes: individual
#   ignore: ['self']
# - name: record
#   class: Rfm::Record
#   attach_attributes: individual
#   attach: hash
#   #initialize: [new, _obj]
#   elements:
#   - name: field
#     class: Rfm::Metadata::Field
#     attach_attributes: individual
#     compact: true
#     attach: none
#     before_close: :build_record_data
#   - name: relatedset
#     class: Rfm::RelatedSet
#     attach: individual
#     as_name: portals
#     delineate_with_hash: table
#     elements:
#     - name: record
#       class: Rfm::Record
#       attach_attributes: individual
#       elements:
#       - name: field
#         compact: true
#         class: Rfm::Metadata::Field
#         attach: none
#         before_close: :build_record_data